# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ PSRAM "Insufficient PSRAM: 0 bytes"

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:

```
[E][ov2640.cpp:432] checkMemoryConstraints(): [OV2640] Insufficient PSRAM: 0 bytes
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ ESP32-S3 –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ PSRAM –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞–º–µ—Ä—ã.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–ª–∞—Ç—ã –≤ `platformio.ini`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–ª–∞—Ç—É **—Å PSRAM**:

```ini
[env:esp32s3_fpv_drone]
platform = espressif32
board = freenove_esp32_s3_wroom     ; ‚úÖ 8MB PSRAM
# –ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï:
# board = esp32-s3-devkitc-1        ; ‚ùå No PSRAM
```

### 2. –î–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ PSRAM

–í `platformio.ini` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–ª–∞–≥–∏:

```ini
build_flags =
    -DBOARD_HAS_PSRAM                   ; –ü–ª–∞—Ç–∞ –∏–º–µ–µ—Ç PSRAM
    -DCONFIG_ESP32S3_SPIRAM_SUPPORT=1   ; –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SPIRAM
    -DCONFIG_SPIRAM_MODE_OCT=1          ; –û–∫—Ç–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º SPIRAM
    -DCONFIG_SPIRAM_USE_MALLOC=1        ; –ò—Å–ø–æ–ª—å–∑—É—Ç—å PSRAM –¥–ª—è malloc
    -DCONFIG_SPIRAM_USE_CAPS_ALLOC=1    ; CAPS allocator –¥–ª—è PSRAM
    -DPSRAM_MODE=1                      ; –í–∫–ª—é—á–∏—Ç—å PSRAM
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ PSRAM –≤ –∫–æ–¥–µ

–í `src/main.cpp` –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É PSRAM:

```cpp
void setup() {
    Serial.begin(115200);
    delay(2000);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PSRAM - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞–º–µ—Ä—ã
    if (!psramInit()) {
        Serial.println("[ERROR] ‚ùå PSRAM initialization failed!");
        while(1) delay(1000); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    }

    Serial.printf("[PSRAM] ‚úÖ PSRAM initialized: %lu bytes available\n", ESP.getFreePsram());

    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
}
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–ª–∞—Ç—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ü–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–ª–∞—Ç—ã —Å PSRAM:

- `freenove_esp32_s3_wroom` - 8MB Flash + 8MB PSRAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `adafruit_feather_esp32s3` - 4MB Flash + 2MB PSRAM
- `rymcu-esp32-s3-devkitc-1` - 8MB Flash + 2MB PSRAM

### ‚ùå –ù–ï –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–ª–∞—Ç—ã –±–µ–∑ PSRAM:

- `esp32-s3-devkitc-1` - No PSRAM
- `adafruit_feather_esp32s3_nopsram` - No PSRAM
- `adafruit_qtpy_esp32s3_nopsram` - No PSRAM

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ PSRAM –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—à–∏–≤–∫–∏, –≤ Serial –º–æ–Ω–∏—Ç–æ—Ä–µ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
[PSRAM] ‚úÖ PSRAM initialized: 8388608 bytes available
[HEAP] üíæ Free heap: 320000 bytes
```

–ï—Å–ª–∏ PSRAM = 0 bytes, –∑–Ω–∞—á–∏—Ç –ø–ª–∞—Ç–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PSRAM –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞.

## üõ†Ô∏è –ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. **–ò–∑–º–µ–Ω–∏—Ç–µ –ø–ª–∞—Ç—É –≤ platformio.ini:**

   ```ini
   board = freenove_esp32_s3_wroom
   ```

2. **–û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—É—é —Å–±–æ—Ä–∫—É:**

   ```bash
   pio run --target clean
   ```

3. **–°–æ–±–µ—Ä–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:**

   ```bash
   pio run
   ```

4. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   ```bash
   pio run --target upload --target monitor
   ```

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

- **PSRAM –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –∫–∞–º–µ—Ä—ã** - –±–µ–∑ –Ω–µ—ë —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
- **–ú–∏–Ω–∏–º—É–º 1MB PSRAM** —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **8MB PSRAM** –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ FPS
- –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –ø–ª–∞—Ç—ã —Å PSRAM, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–∫—É–ø–∫—É ESP32-S3 CAM –º–æ–¥—É–ª—è

---

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—à–∏–±–∫–∞ "Insufficient PSRAM" –∏—Å—á–µ–∑–Ω–µ—Ç –∏ –∫–∞–º–µ—Ä–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéØ
