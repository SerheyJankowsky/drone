# üì∂ WiFi AP –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç–∏

## üîç –ü—Ä–æ–±–ª–µ–º–∞

WiFi —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ ESP32-S3 –∏–Ω–æ–≥–¥–∞:

- ‚ùå **–°—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å –Ω–µ–≤–∏–¥–∏–º–æ–π** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚ùå **–¢–µ—Ä—è–ª–∞ IP –∞–¥—Ä–µ—Å** (0.0.0.0)
- ‚ùå **–û—Ç–∫–ª—é—á–∞–ª–∞ AP —Ä–µ–∂–∏–º** —Å–∞–º–æ–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ
- ‚ùå **–í—ã–∑—ã–≤–∞–ª–∞ "Poor" –∫–∞—á–µ—Å—Ç–≤–æ** —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ –∫–ª–∏–µ–Ω—Ç–µ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è WiFi AP

### 1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**

```cpp
// –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ WiFi —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
WiFi.mode(WIFI_OFF);
delay(100);

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–∂–∏–º —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞
WiFi.mode(WIFI_AP);
delay(200);

// –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
wifi_config_t wifi_config = {};
wifi_config.ap.channel = 6;           // –ö–∞–Ω–∞–ª 6 - –Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π
wifi_config.ap.authmode = WIFI_AUTH_WPA2_PSK;
wifi_config.ap.max_connection = 4;    // –ú–∞–∫—Å–∏–º—É–º 4 –∫–ª–∏–µ–Ω—Ç–∞
wifi_config.ap.beacon_interval = 100; // –ß–∞—Å—Ç—ã–µ beacon'—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫–∞
esp_wifi_set_max_tx_power(82); // 20.5 dBm
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

**–§—É–Ω–∫—Ü–∏—è `checkStability()`:**

- üîÑ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥** - –Ω–µ –º–µ—à–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø–æ—Ç–æ–∫—É
- üö® **–ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ AP —Ä–µ–∂–∏–º–∞** –ø—Ä–∏ —Å–±–æ—è—Ö
- üåê **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞** –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```cpp
void WiFiModule::checkStability() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ WiFi AP –≤—Å–µ –µ—â–µ –∞–∫—Ç–∏–≤–µ–Ω
    if (!(WiFi.getMode() & WIFI_AP)) {
        Serial.println("[WiFi] üö® –ö–†–ò–¢–ò–ß–ù–û: AP —Ä–µ–∂–∏–º –æ—Ç–∫–ª—é—á–∏–ª—Å—è! –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º...");

        // –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ WiFi
        WiFi.mode(WIFI_OFF);
        delay(100);
        WiFi.mode(WIFI_AP);
        delay(200);

        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        WiFi.softAP(ssid_.c_str(), password_.c_str(), 6, 0, 4);
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º IP –∞–¥—Ä–µ—Å
    if (WiFi.softAPIP() == IPAddress(0, 0, 0, 0)) {
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º IP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        WiFi.softAPConfig(local_IP, gateway, subnet);
    }
}
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª

**–í `main.cpp` –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

```cpp
void loop() {
    // ... –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ ...

    // Check WiFi stability periodically
    wifi.checkStability();

    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
}
```

### 4. –ö–æ–º–∞–Ω–¥–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ WiFi

**–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `wifi`:**

```
[WiFi] üì° SSID: ESP32-S3_Drone_30fps
[WiFi] üåê IP: 192.168.4.1
[WiFi] üë• –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç–æ–≤: 2
[WiFi] üì∂ –ö–∞–Ω–∞–ª: 6
[WiFi] üìä –†–µ–∂–∏–º: AP –∞–∫—Ç–∏–≤–µ–Ω
[WiFi] üîã –ú–æ—â–Ω–æ—Å—Ç—å: 82 dBm
[WiFi] ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å: –°–¢–ê–ë–ò–õ–ï–ù
```

## üéØ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### WiFi –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **–ö–∞–Ω–∞–ª:** 6 (–Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π)
- **–ú–æ—â–Ω–æ—Å—Ç—å:** 20.5 dBm (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è)
- **Beacon –∏–Ω—Ç–µ—Ä–≤–∞–ª:** 100ms (—á–∞—Å—Ç—ã–µ —Å–∏–≥–Ω–∞–ª—ã)
- **–ú–∞–∫—Å–∏–º—É–º –∫–ª–∏–µ–Ω—Ç–æ–≤:** 4 (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- **–†–µ–∂–∏–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:** WPA2-PSK

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:** –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- **–ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ü—Ä–∏ –ª—é–±—ã—Ö —Å–±–æ—è—Ö
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å** - AP –±–æ–ª—å—à–µ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–µ—Ç–µ–π
2. **–£—Å—Ç–æ–π—á–∏–≤—ã–π IP –∞–¥—Ä–µ—Å** - 192.168.4.1 –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
3. **–ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Å–±–æ–∏ WiFi
4. **–õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** - –º–µ–Ω—å—à–µ "Poor" —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ –∫–ª–∏–µ–Ω—Ç–µ

### üìà –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:** <1 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–∏ —Å–±–æ–µ
- **–ß–∞—Å—Ç–æ—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:** –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å:** 20.5 dBm –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
- **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª:** 6 (2.437 GHz)

## üöÅ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
wifi     # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å WiFi AP
status   # –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
help     # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
```

---

> **–†–µ–∑—É–ª—å—Ç–∞—Ç:** WiFi —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ 24/7 —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–∏ –ª—é–±—ã—Ö —Å–±–æ—è—Ö! üì∂‚úÖ
